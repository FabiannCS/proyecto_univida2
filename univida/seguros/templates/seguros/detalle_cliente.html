{% extends 'seguros/base.html' %}

{% block content %}
<div class="detalle-header">
    <h1>{{ cliente.usuario.first_name }} {{ cliente.usuario.last_name }}</h1>
    <a href="{% url 'lista_clientes_front' %}" class="boton">← Volver a Clientes</a>
</div>

<div class="detalle-grid">
    <div class="info-personal">
        <h2>Información Personal</h2>
        <div class="info-item">
            <strong>Email:</strong> {{ cliente.usuario.email }}
        </div>
        <div class="info-item">
            <strong>Teléfono:</strong> {{ cliente.usuario.telefono }}
        </div>
        <div class="info-item">
            <strong>Identificación:</strong> {{ cliente.identificacion }}
        </div>
        <div class="info-item">
            <strong>Fecha Nacimiento:</strong> {{ cliente.fecha_nacimiento }}
        </div>
        <div class="info-item">
            <strong>Dirección:</strong> {{ cliente.direccion }}
        </div>
        <div class="info-item">
            <strong>Estado de Salud:</strong> {{ cliente.estado_salud }}
        </div>
    </div>

    <div class="polizas-cliente">
        <h2>Pólizas del Cliente</h2>
        {% if polizas %}
        <div class="lista-polizas">
            {% for poliza in polizas %}
            <div class="poliza-item">
                <h4>{{ poliza.numero_poliza }}</h4>
                <p><strong>Suma Asegurada:</strong> ${{ poliza.suma_asegurada }}</p>
                <p><strong>Estado:</strong> <span class="estado {{ poliza.estado }}">{{ poliza.estado }}</span></p>
                <a href="{% url 'detalle_poliza_front' poliza.id %}" class="boton pequeno">Ver Detalle</a>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>Este cliente no tiene pólizas registradas.</p>
        {% endif %}
    </div>
</div>
{% endblock %}